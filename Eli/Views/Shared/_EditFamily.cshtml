@model Eli.ViewModel.Family

<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>


@using Eli.Models;

@{
    String id = "1" + @Model.PatientID;
}
<!-- Modal -->
<div class="modal fade" id="id" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 align="right " class="modal-title" id="myModalLabel"></h4>
            </div>
            <div class="modal-body">
                @using (Html.BeginForm())
                { 
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true)
                        <h2 align="right">משפחה</h2>
                        <h4 align="right">פרטי הורים</h4>
                            <div class="table-responsive">
                                <table id="myTable" dir="rtl" style="text-align:center" class="display table" width="100%">
                                    <thead >
                                        <tr align="right">
                                            <th></th>
                                            <th>שם פרטי </th>
                                            <th>שם משפחה</th>
                                            <th>האם עובד</th>
                                            <th>טלפון</th>
                                            <th>מייל</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    @{ int count = 0;}
                                    @foreach (var item in Model.Parent)
                                    {
                                        
                                            <tr>
                                                <td> @if (item.Gender == "זכר") { 
                                                         <div>אב</div>;
                                                        }
                                                     else { 
                                                        <div>אם</div>; 
                                                        }
                                                </td>
                                                <td>
                                                    <div class="editor-field">
                                                        @Html.EditorFor(model => model.Parent[count].FirstName)
                                                        @Html.ValidationMessageFor(model => model.Parent[count].FirstName)
                                                    </div>
                                                    
                                                </td>
                                                <td> @item.SurName </td>
                                                <td> @item.IsWorking </td>
                                                <td> @item.ContcatPhoneNumber </td>
                                                <td> @item.ContactMail </td>
                                            </tr>
                                        { count++; }
                                    }
                                    </tbody>
                                </table>

                                <h4 align="right">פרטי אחים</h4>
                                <div class="table-responsive">
                                    <table id="myTable" dir="rtl" style="text-align:center"  class="display table" width="100%">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>שם פרטי</th>
                                                <th>שם משפחה</th>
                                                <th>תאריך לידה</th>
                                                <th>מסגרת לימודית</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.BrotherSister)
                                            {
                                                <tr>
                                                    <td>
                                                        @if (item.Gender == "זכר")
                                                        {
                                                            <div>אח</div>;
                                                        }
                                                        else
                                                        {
                                                            <div>אחות</div>;
                                                        }
                                                    </td>
                                                    <td> @item.FirstName </td>
                                                    <td> @item.SurName </td>
                                                    <td> @item.BirthDate </td>
                                                    <td> @item.StudyFramework </td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <p>
                                <input type="submit" value="Save" />
                            </p>
                }

            </div>
        </div>
    </div>
</div>